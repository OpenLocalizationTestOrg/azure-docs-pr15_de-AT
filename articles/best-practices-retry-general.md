<properties
   pageTitle="Wiederholen Sie allgemeine Hinweise | Microsoft Azure"
   description="Hinweise nach vorübergehender Fehlerbehandlung wiederholen."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="retry-general-guidance"></a>Allgemeine Anleitung wiederholen

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="overview"></a>Übersicht

Alle Programme, die Kommunikation mit remote Services und Ressourcen müssen vorübergehende Fehler berücksichtigen. Dies gilt für Programme, die in der Cloud ausgeführt Art der Umgebung und der Verbindung über das Internet bedeutet dieser Fehler wahrscheinlich häufiger anzutreffen sind. Vorübergehende Fehler sind vorübergehende Verlust der Netzwerkkonnektivität, Komponenten und Dienste, die vorübergehenden Ausfall eines Dienstes oder Timeouts, die entstehen, wenn ein Dienst ausgelastet ist. Diese Fehler sind häufig selbst korrigieren und wiederholt die Aktion verzögert geeignet ist erfolgreich.

Dieses Dokument beschreibt allgemeine Hinweise zum vorübergehenden Fehler behandeln. Informationen zum vorübergehenden Fehler behandeln, wenn Microsoft Azure Services finden Sie unter [Azure Service-spezifische Richtlinien wiederholen](best-practices-retry-service-specific.md).

## <a name="why-do-transient-faults-occur-in-the-cloud"></a>Warum treten vorübergehende Fehler in der Cloud?

Vorübergehende Fehler können in jeder Umgebung auf jeder Plattform und Betriebssystem und jede Art von Anwendung auftreten. In Projektmappen Nähe auf lokalen, lokale Infrastruktur, Performance und Verfügbarkeit der Anwendung und ihrer Komponenten ist üblicherweise verwaltet teuer und häufig unter-Hardware-Redundanz und Komponenten und Ressourcen jeweils anderen. Dieser Fehler weniger wahrscheinlich ist, kann es dennoch vorübergehende Fehler - und sogar einen Ausfall durch unvorhergesehene Ereignisse wie externe Stromversorgung oder Netzwerkprobleme oder anderen Notfällen führen.

Cloud-hosting, einschließlich der privaten Cloud bieten eine höhere allgemeine Verfügbarkeit mithilfe von freigegebenen Ressourcen, Redundanz und automatisches Failover, dynamische Zuordnung von Ressourcen über zahlreiche Ware Compute-Knoten. Die Art dieser Umgebungen kann jedoch, dass vorübergehende Fehler mehr auftreten können. Gibt es mehrere Gründe:

* Viele Ressourcen in einer Cloud-Umgebung gemeinsam genutzt und Zugriff auf diese Ressourcen Schutz die Ressource Einschränkung unterliegt. Einige Dienste ablehnen Verbindungen, wenn die Auslastung auf einer bestimmten Ebene steigt oder maximalen Durchsatz erreicht, um die Verarbeitung von Anfragen und Leistung für alle Benutzer verwalten. Drosselung hilft zu Quality of Service für Nachbarn und andere Mandanten mit der freigegebenen Ressource.
* Cloud-Umgebung werden mit großen Stückzahlen Ware Hardware erstellt. Sie Leistung durch die Last auf mehrere Computer und Infrastruktur dynamisch verteilt und Zuverlässigkeit automatisch wiederverwendet oder Ersetzen der fehlerhafte Einheiten. Diese Dynamik bedeutet, dass vorübergehende Fehler und temporäre Verbindungsfehler gelegentlich auftreten.
* Häufig sind weitere Hardwarekomponenten, einschließlich Netzwerkinfrastruktur wie Router und Lastenausgleich zwischen der Anwendung und Ressourcen und Diensten verwendet. Diese zusätzliche Infrastruktur kann gelegentlich zusätzliche Latenz und vorübergehende Verbindung Fehler führen.
* Netzwerkprobleme zwischen dem Client und dem Server möglicherweise Variable besonders überquert Kommunikation im Internet. Lokalen Speicherorten sehr starkem Datenverkehr möglicherweise langsam Kommunikation und zeitweise Verbindungsfehler verursacht.

## <a name="challenges"></a>Herausforderung
Vorübergehende Fehler haben einen erheblichen Einfluss auf die empfundene Verfügbarkeit einer Anwendung, auch wenn es unter allen vorhersehbaren Umständen ausführlich getestet wurde. Um sicherzustellen, dass Cloud-gehosteten Anwendung zuverlässig, müssen sie folgende beantworten können:

* Die Anwendung muss Fehler auftreten und ermitteln, ob diese Fehler wahrscheinlich vorübergehend, langlebiger oder terminal Fehler. Verschiedene Ressourcen sind wahrscheinlich unterschiedliche Antworten zurückzugeben, wenn ein Fehler auftritt und diese Antworten auch je nach Kontext des Vorgangs variieren. beispielsweise unterscheiden die Antwort für einen Fehler beim Lesen vom Speicher Antwort ein Fehler beim Schreiben in den Speicher. Viele Ressourcen und Dienste haben dokumentierte vorübergehende Fehler Verträge. Jedoch diese Informationen nicht verfügbar, ist es möglicherweise schwierig zu der Art des Fehlers und ob es wahrscheinlich vorübergehend ist.
* Die Anwendung muss möglicherweise den Vorgang wiederholen, wenn es feststellt, dass der Fehler wahrscheinlich vorübergehend sein und verfolgen die Anzahl, wie oft, die der Vorgang wiederholt wurde.
* Die Anwendung muss einer geeigneten Strategie für die Wiederholungsversuche. Diese Strategie gibt an, wie oft sollte es wiederholen, die Verzögerung zwischen den versuchen und die Aktionen nach einem fehlgeschlagenen Versuch. Die entsprechende Anzahl von versuchen und die Verzögerung zwischen jeder sind häufig schwer zu bestimmen und die Art der Ressource sowie die aktuellen Betriebszustände der Ressource und der Anwendung abhängig.

## <a name="general-guidelines"></a>Allgemeine Richtlinien
Die folgenden Richtlinien helfen Ihnen einen geeigneten vorübergehenden Fehler Übergabe Mechanismus für die Anwendung entwerfen:

* **Bestimmen Sie, ob ein integrierte Wiederholungsmechanismus:**
  * Viele Dienste bieten eine SDK oder Client-Bibliothek, die einen vorübergehenden Fehler Fehlerbehandlungsmechanismus enthält. Wiederholungsrichtlinie verwendet wird normalerweise die Art und den Ziel-Dienst angepasst. REST-Schnittstellen für Dienste möglicherweise auch Informationen zurück, die bestimmt, ob eine Wiederholung entsprechenden und wie lange vor dem nächsten Wiederholungsversuch gewartet wird.
  * Verwenden der integrierten Wiederholungsmechanismus ist eine, wenn Sie bestimmte und bekannte benötigen, das ist eine andere Wiederholverhalten besser geeignet.
* **Ermitteln, ob der Vorgang wiederholt eignet**:
  * Bei Fehler nur vorübergehend auftreten (in der Regel gekennzeichnet durch die Art des Fehlers) und zumindest der Vorgang beim vorübergehenden gelingt Wahrscheinlichkeit besteht, sollten Sie nur Vorgänge wiederholen. Es nützt Problem Vorgänge, die angeben, wie eine Datenbank eine ungültige Operation Update für ein Element, das nicht vorhanden ist, oder einen Dienst oder eine Ressource, die einen schwerwiegenden Fehler verursacht wurde
  * Im Allgemeinen sollten Sie implementieren Versuche nur die volle Auswirkung kann bestimmt werden, wobei die gut verstanden und überprüft werden können. Wenn dies nicht der Fall ist, an den aufrufenden Code Wiederholungsversuche implementieren lassen. Beachten Sie, dass Fehler von Ressourcen zurückgegeben außerhalb des Steuerelements Zeit weiterentwickeln können und die Erkennungslogik vorübergehender Fehler erneut müssen.
  * Wenn Dienste oder Komponenten erstellen, sollten Sie implementieren Fehlercodes und Nachrichten, mit denen Clients zu ermitteln, ob sie wiederholen sollten Vorgänge nicht. Insbesondere anzugeben Sie, ob der Client sollte erneut (z. B. durch Rückgabe eines Werts **IsTransient** ) und eine geeignete Verzögerung vor den nächsten Wiederholungsversuch vorschlagen. Wenn Sie einen Webdienst erstellen, sollten Sie Ihren Serviceverträgen definiert benutzerdefinierte Fehler zurückgibt. Obwohl generische Clients nicht diese lesen können, gehen sie nützlich, beim Erstellen von benutzerdefinierten Clients.
* **Bestimmen Sie eine geeignete Anzahl und Intervall:**
  * Unbedingt die Anzahl der Wiederholungsversuche und das Intervall auf den Anwendungsfall zu optimieren. Wenn Sie eine ausreichende Anzahl nicht wiederholen, wird die Anwendung nicht genügend und wahrscheinlich einen Fehler auftreten. Wenn Sie zu viele Male wiederholen oder kurzes ein Intervall zwischen versucht, die Anwendung hält möglicherweise Ressourcen wie Threads, Verbindungen und Speicher für lange Zeiträume, den Zustand der Anwendung beeinträchtigt werden.
  * Die entsprechenden Werte für das Zeitintervall und die Anzahl der Wiederholungsversuche hängen des Vorgangs versucht. Beispielsweise ist der Vorgang Teil einer Benutzerinteraktion Intervall sollte kurz und nur wenige Wiederholungsversuche zu verhindern, dass Benutzer auf eine Antwort warten (das hält Verbindung öffnen und Verfügbarkeit für andere Benutzer reduzieren). Wenn der Vorgang Teil eines Workflows lange ausgeführt oder kritisch ist Abbrechen und Neustarten des Prozesses teuer oder zeitaufwändig, empfiehlt es sich zu warten zwischen versuchen mehrmals wiederholen.
  * Bestimmen die geeigneten Intervalle zwischen Wiederholungsversuchen ist der schwierigste Teil beim Entwerfen einer erfolgreichen Strategie. Standardmäßige Strategien verwenden folgende Wiederholungsintervall:
      * **Exponential Backoff**. Die Anwendung wartet kurz vor dem ersten Wiederholungsversuch und exponentiell zwischen jeder nachfolgende Wiederholungsintervalle. Angenommen, es möglicherweise erneut nach 3 Sekunden, 12 Sekunden, 30 Sekunden usw.
      * **Inkrementelle Intervallen**. Die Anwendung wartet kurz vor dem ersten Wiederholungsversuch und zwischen jeder nachfolgende Wiederholungsintervalle inkrementell erhöhen. Angenommen, sie möglicherweise erneut nach 3 Sekunden, 7, 13 Sekunden usw.
      * **Regelmäßig**. Die Anwendung wartet für den gleichen Zeitraum zwischen den einzelnen versuchen. Beispielsweise können sie den Vorgang alle 3 Sekunden wiederholen.
      * **Sofort wiederholen**. Manchmal ist ein vorübergehender Fehler sehr kurz vielleicht durch ein Ereignis wie ein Network Packet Konflikt oder eine Hardware-Komponente verursacht. In diesem Fall eignet sich sofort den Vorgang wiederholen, da es möglicherweise fehlschlagen, wenn der Fehler in der Zeit gelöscht wurde, die Anwendung benötigt und Senden der nächsten Anforderung. Aber sollte es nie mehrere sofortige Wiederholungsversuch, und Sie sollten besser die alternative Strategien wie oder exponentielle Backoff fallback Aktionen fehlschlagen sofort wiederholen.
      * **Zufallsgenerator**. Eine der aufgeführten Strategien wiederholen gehören Zufallsgenerator um mehrere Instanzen der Client weitere Versuche zur gleichen Zeit senden zu verhindern. Z. B. eine Instanz möglicherweise erneut nach 3 Sekunden, 11 Sekunden, 28 Sekunden usw., während eine andere Instanz den Vorgang nach 4 Sekunden, 12 Sekunden, 26, wiederholen kann und so weiter. Zufallsgenerator ist eine nützliche Technik mit anderen kombiniert werden kann.  
  * Verwenden Sie als allgemeine Richtlinie eine exponentielle Backoff Strategie für Hintergrundoperationen und sofortige oder regulären Intervall wiederholungsstrategien für interaktive Vorgänge. In beiden Fällen sollten Sie die Verzögerung und der Retry Count, damit die maximale Wartezeit für alle Wiederholungsversuche innerhalb der Anforderung erforderlichen End-to-End-Latenz.
  * Berücksichtigt alle Faktoren beeinflussen das maximale Zeitlimit für einen Wiederholungsversuch Vorgang aus. Zu diesen Faktoren zählen die Zeit für eine fehlgeschlagene Verbindung zu einer Antwort (in der Regel durch einen Timeoutwert im Client festgelegt) sowie die Verzögerung zwischen den Wiederholungsversuchen und die maximale Anzahl der Wiederholungsversuche. Die Summe aller Zeiten kann sehr große Gesamtvorgang Zeiten, besonders bei Verwendung eine exponentielle Verzögerung, versucht das Intervall zwischen schnell nach jedem Fehler wächst führen. Ein Prozess eine bestimmte Vereinbarung zum Servicelevel (SLA) erfüllen muss, muss alle Timeouts und Verzögerungen Vorgang Gesamtzeit, in der SLA definiert werden
  * Über-aggressive wiederholungsstrategien zu kurze Intervallen oder zu versucht möglicherweise, nachteilig auf die Ressource oder den Dienst haben. Dies kann verhindern die Ressource oder den Dienst wiederherstellen die Überlastung und weiterhin blockieren oder verweigern. Diese Ergebnisse in einem Teufelskreis wohin mehr Anfragen zu der Ressource Service und somit die Möglichkeit zum Wiederherstellen wird weiter reduziert.
  * Berücksichtigen Sie das Timeout der Vorgänge bei der Wiederholungsintervalle zu starten einen nachfolgenden Versuch sofort (z. B. wenn das Zeitlimit des Wiederholungsintervalls entspricht). Wenn Sie mögliche Gesamtfrist (das Zeitlimit plus die Wiederholungsintervalle), unter bestimmten Gesamtzeit müssen außerdem berücksichtigen. Vorgänge, die ungewöhnlich kurze oder lange Timeouts beeinflussen wie lange zu warten, und wie oft den Vorgang wiederholen.
  * Verwenden der Ausnahme und alle darin enthaltenen Daten oder Fehlercodes und Fehlermeldungen vom Dienst das Intervall und die Anzahl der Wiederholungsversuche zu optimieren. Beispielsweise einige Ausnahmen oder Fehler (z. B. die HTTP-code 503 Dienst nicht mit einem Retry-After-Header in der Antwort) zeigen an, kann der Fehler wie lange dauern kann, oder dass der Dienst ausgefallen und reagiert nicht auf jedem nachfolgenden Versuch.
* **Antimuster vermeiden**:
  * In den meisten Fällen sollten Sie Implementierungen, die duplizierte Ebenen wiederholen Code enthalten. Vermeiden Sie Entwürfe, cascading Wiederholungsmechanismen enthalten oder, wenn diese Anforderung Anforderungen ist Wiederholung in jedem Stadium eines Vorgangs, bei dem eine Hierarchie von Anfragen, implementieren, diese. Verwenden Sie in diesen Ausnahmefällen Richtlinien, die übermäßige Anzahl Wiederholungsversuche und Verzögerung zu verhindern und sicherzustellen, dass Sie die Folgen kennen. Beispielsweise wenn eine Komponente in ein anderes anfordert, versucht insgesamt für den Dienst dann die greift auf den Zieldienst und wiederholen mit drei beide Aufrufe implementiert werden neun wiederholen. Viele Dienste und Ressourcen integrierten Wiederholungsmechanismus implementieren, und Sie sollten untersuchen, wie Sie deaktivieren oder ändern Sie diese Versuche auf einer höheren Ebene implementiert werden müssen.
  *  Implementieren Sie eine endlose Wiederholungsmechanismus nicht. Dies ist wahrscheinlich zu verhindern, dass die Ressource oder den Dienst nach Überladung Situationen verursachen Drosselung und Verbindung weiterhin für einen längeren Zeitraum abgelehnt. Verwenden Sie eine begrenzte Anzahl oder Versuche oder implementieren ein Muster wie [Schutzschalter](http://msdn.microsoft.com/library/dn589784.aspx) der Dienst wiederhergestellt.
  * Nie durchführen Sie eine sofortige Wiederholung mehrmals
  * Verwenden Sie einen regulären Wiederholungsintervall, vor allem, wenn Sie eine große Anzahl von Wiederholungsversuchen, beim Zugriff auf Dienste und Ressourcen in Azure. Der optimale Ansatz ist dabei eine exponentielle Backoff-Strategie mit einer Verbindung hinzugekommene.
  * Verhindern, dass mehrere Instanzen desselben Clients oder mehrere Instanzen von verschiedenen Clients Versuche zur gleichen Zeit senden. Ist dies wahrscheinlich stellen Zufallsgenerator in der Wiederholungsintervalle vor.
* **Testen Sie Ihre wiederholungsstrategie und Implementierung:**
  * Sicherstellen Sie, dass Sie vollständig die Wiederholung strategieimplementierung unter wie große Umstände möglichst vor allem beim Testen unter extremer Belastung sowohl die Anwendung und die Ressourcen oder Services verwendet werden. Um Verhalten während der Tests zu überprüfen, können Sie:
      * Der Dienst verleihen Sie vorübergehend nicht flüchtigen Fehler. Z. B. Anfragen Sie ungültige oder fügen Sie Code, der Test anfordert und antwortet mit verschiedenen Arten von Fehlern erkennt. Ein Beispiel mit TestApi, finden Sie unter [Fault Injection-Tests mit TestApi](http://msdn.microsoft.com/magazine/ff898404.aspx) und [Einführung in TestApi – Teil 5: verwaltete Code Fault Injection APIs](http://blogs.msdn.com/b/ivo_manolov/archive/2009/11/25/9928447.aspx).
      * Erstellen Sie ein Mock der Ressource oder der Dienst, der eine Reihe von Fehlern zurückgibt, die der echte Dienst zurückgegeben werden. Gewährleisten Sie behandelt alle Fehler, die Ihre wiederholungsstrategie soll erkennen.
      * Erzwingen, dass vorübergehende Fehler auftreten, indem Sie vorübergehend deaktivieren oder Überladen des Dienstes ist ein individueller Service, der erstellt und bereitgestellt (nicht natürlich sollten alle gemeinsam genutzten Ressourcen überlasten oder gemeinsame Dienste in Azure).
      * HTTP-basierte APIs Erwägung FiddlerCore Bibliothek in automatisierte Tests die Ausgabe der HTTP-Anfragen zusätzliche Übertragungszeit hinzufügen oder Ändern der Antwort (z. B. den HTTP-Statuscode, Header, Text oder andere Faktoren) ändern. Dadurch deterministische Testen einer Teilmenge der Fehlerzustände, ob vorübergehende Fehler oder andere Fehler. Weitere Informationen finden Sie unter [FiddlerCore](http://www.telerik.com/fiddler/fiddlercore). Beispiele der Bibliothek, insbesondere die **HttpMangler** -Klasse, prüfen Sie der [Quellcode für Azure Storage SDK](https://github.com/Azure/azure-storage-net/tree/master/Test)
      * Führen Sie hohen und gleichzeitige Tests sicherstellen, dass die Wiederholungsmechanismus und Strategie funktioniert unter diesen Umständen und nicht nachteilig auf den Betrieb des Clients oder Kreuzkontamination zwischen verursachen.
* **Verwalten von Richtlinienkonfigurationen Wiederholen:**
  * Eine _Richtlinie wiederholen_ ist eine Kombination aller Elemente der wiederholungsstrategie. Definiert den Mechanismus, der bestimmt, ob ein Fehler wahrscheinlich vorübergehend Intervalltyp (wie reguläre, exponentielle Backoff-Zufallsgenerator), die tatsächliche Intervall Werte und die Anzahl der mit wiederholen.
  * Versuche müssen an vielen Stellen auch die einfachste Anwendung und jeder Ebene komplexer Applikationen implementiert werden. Hart codierte Elemente jeder Richtlinie an mehreren Standorten, verwenden Sie einen zentralen Punkt zum Speichern aller Richtlinien. Beispielsweise speichern Sie die Werte wie das Intervall Wiederholungsanzahl Anwendungskonfigurationsdateien, zur Laufzeit lesen und wiederholungsrichtlinien programmgesteuert zu erstellen. Dies erleichtert die Standardeinstellungen zu ändern und optimieren die Werte um Anforderungen und Szenarien. Entwerfen Sie jedoch das System die Werte anstelle einer Konfiguration wieder jeder Datei und sicherstellen, dass geeignete Standardwerte verwendet werden, wenn die Werte von Konfiguration abgerufen werden können.
  * Sollten Sie in einer Anwendung Azure Cloud Services die Werte, mit denen wiederholungsrichtlinien zur Laufzeit in der Service-Konfigurationsdatei erstellen, damit sie geändert werden können, ohne die Anwendung neu starten.
  * Nutzen Sie integrierte oder wiederholungsstrategien für Client-API verwenden, allerdings nur für das Szenario geeignet sind. Diese Strategien sind normalerweise allgemeine. In einigen Fällen möglicherweise erforderlich ist, jedoch in anderen Szenarios möglicherweise nicht bieten sämtliche Optionen an Ihre Bedürfnisse anpassen. Sie müssen verstehen, wie die Einstellungen die Anwendung Tests die am besten geeignete Werte beeinflussen.
* **Protokollieren Sie und verfolgen Sie vorübergehend nicht flüchtigen Fehler:**
  * Ihre wiederholungsstrategie enthalten Sie Ausnahmebehandlung und andere Protokolle bei Wiederholungsversuchen Instrumentation. Eine gelegentliche vorübergehender Fehler und wiederholen sind zu erwarten, und dass kein Problem, regelmäßige und steigende Anzahl Wiederholungsversuche sind oft ein Indikator für ein Problem, das möglicherweise eines Fehlers oder wird zurzeit Beeinträchtigung der Leistung und Verfügbarkeit.
  * Protokollieren Sie vorübergehende Fehler als Warnung Einträge Fehlereinträge, dass Systeme nicht diese Anwendung Fehler erkennen, die falsche Alarme auslösen
  * Sollten Sie zum Speichern eines Werts in der Protokolleinträge, die angibt, ob die Wiederholungsversuche Drosselung des Diensts oder andere Fehler wie Verbindungsfehler, verursacht wurden, damit Sie während der Analyse der Daten unterschieden werden können. Eine Zunahme der Drosselung Fehler ist oft ein Indikator einen Entwicklungsfehler in die Anwendung oder die Notwendigkeit, ein Premium-Service, die dedizierten Hardware bietet.  
  * Messen und protokollieren die allgemeine Zeit für Vorgänge, die einen Wiederholungsmechanismus enthalten berücksichtigen. Ist ein guter Indikator für den Gesamteffekt vorübergehende Fehler Antwortzeiten für Benutzer, Prozess-Latenz und die Effizienz der Anwendung Anwendungsfälle Auch trat Protokoll die Anzahl der Wiederholungsversuche Verständnis die Faktoren, die die Reaktionszeit beitragen.
  * Sollten Sie eine Telemetrie Umsetzung und Überwachung, die Warnung aus, wenn die Anzahl erhöhen und bei Fehlern, die durchschnittliche Anzahl von Wiederholungsversuchen oder die gesamten Zeiten für Vorgänge erfolgreich, erhöhen.
* **Vorgänge, die nicht ständig zu verwalten:**
  * Wenn der Vorgang weiterhin bei jedem Versuch fehlschlägt und unbedingt berücksichtigen, wie Sie diese Situation behandelt werden:
      * Obwohl wiederholungsstrategie maximale Anzahl definieren, die eine Operation wiederholt werden soll, verhindert es die Anwendung wiederholen den Vorgang mit der gleichen Anzahl von Wiederholungsversuchen nicht. Schlägt eine Bestellung Verarbeitung Fehler, die dauerhaft außer Gefecht setzt, kann wiederholungsstrategie beispielsweise einen Verbindungstimeout erkennen und sehen ein vorübergehender Fehler. Der Code erneut eine angegebene Anzahl und dann. Aber bei anderen Kunden bestellt, wird der Vorgang-versucht, obwohl es nicht immer sicher ist.
      * Vermeidung kontinuierlicher Versuche für Vorgänge, die nicht ständig berücksichtigen Sie [Schutzschalter Muster](http://msdn.microsoft.com/library/dn589784.aspx)implementieren. In diesem Muster übersteigt die Anzahl der Fehler in einem angegebenen Zeitfenster den Schwellenwert werden Anfragen an den Aufrufer sofort als Fehler zurückgegeben ohne die ausgefallene Ressource oder den Dienst zugreifen.
      * Die Anwendung testen kann regelmäßig Service intermittierend und lange Intervalle zwischen Anfragen zu erkennen, wenn sie verfügbar sind. Einem angemessenen Zeitraum hängt das Szenario wie die Wichtigkeit der Operation und der Art des Dienstes, und möglicherweise etwas zwischen einigen Minuten und mehreren Stunden. An dem Punkt, wo der Test erfolgreich ist, die Anwendung normal fortgesetzt und Anfragen an die wiederhergestellte Dienst übergeben.
      * In der Zwischenzeit es möglicherweise an eine andere Instanz des Dienstes (vielleicht in einem anderen Rechenzentrum oder Anwendung) zurückgreifen oder einen ähnlichen Dienst, die kompatibel (vielleicht einfacher) Funktionen bietet einige andere Operationen in der Hoffnung, dass der Dienst verfügbar bald. Angenommen, es angebracht sein, die Service-Anfragen in einer Warteschlange gespeichert oder Daten speichern und später wiedergeben. Andernfalls möglicherweise zum Umleiten des Benutzers auf eine andere Instanz der Anwendung, die Leistung der Anwendung aber akzeptablen Funktionalität bieten, oder nur zurückgeben eine Nachricht an den Benutzer, ist die Anwendung nicht über, vorhanden.

* **Weitere Aspekte**
  * Bei der Entscheidung über die Werte für die Anzahl der Wiederholungsversuche und der Wiederholungsintervalle für eine Richtlinie sollten Sie der Vorgang für den Dienst oder die Ressource ist Teil eines umfangreichen oder mehreren Schritten. Es kann schwierig sein oder Ausgleich bereits bei einer erfolgreichen alle anderen Verfahrensschritte teuer fehlschlägt. In diesem Fall können ein sehr langes Zeitintervall und eine große Anzahl von Wiederholungsversuchen akzeptabel, solange sie nicht andere Vorgänge oder Ressourcen Sperren blockieren.
  * Sollten Sie den gleichen Vorgang wiederholen Inkonsistenzen in Daten verursachen. Wenn Teile von mehreren Schritten wiederholt, und die Vorgänge nicht Idempotent sind, kann es eine Inkonsistenz führen. Angenommen, erzeugt ein Vorgang, der einen Wert erhöht wiederholt, ein ungültiges Ergebnis. Wiederholen eines Vorgangs, das eine Nachricht an eine Warteschlange sendet möglicherweise eine Inkonsistenz im Consumer angezeigt Wenn doppelte Nachrichten erkennen kann. Um dies zu verhindern, daß jeder Schritt als idempotente Operation entwerfen. Weitere Informationen über Idempotenz anzeigen Sie [Idempotenz Muster](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/)
  * Sollten Sie den Umfang der Vorgänge, die wiederholt werden. Beispielsweise ist es möglicherweise einfacher, Anwendung wiederholen Ebene, die mehrere Vorgänge umfasst, und wiederholen sie bei Ausfall eines. Allerdings kann dadurch Idempotenz Probleme oder unnötige Rollbackvorgänge führen.
  * Wenn Sie einen Wiederholungsbereich, die mehrere Vorgänge umfasst auswählen, berücksichtigen Sie die Gesamtwartezeit der Festlegung der Wiederholungsintervalle bei Zeit und vor der Warnung für Fehler.
  * Sollten Sie Ihre wiederholungsstrategie Nachbarn und andere Mandanten in einer freigegebenen Anwendung oder Auswirkungen Ressourcen und Services. Aggressive wiederholungsrichtlinien kann eine zunehmende Zahl von vorübergehenden Fehler für diese Benutzer und für Programme, die Ressourcen und Services nutzen. Entsprechend kann die Anwendung wiederholen Politik von anderen Benutzern von Ressourcen und Services betroffen sein. Für wichtige Einsatzbereiche beschließen Sie Premium-Dienste verwenden, die nicht freigegeben werden. Dies bietet mehr Kontrolle über das Laden und konsequente Beschränkung dieser Ressourcen und Services, die die zusätzliche Kosten rechtfertigen können.

## <a name="more-information"></a>Weitere Informationen

* [Azure dienstspezifische wiederholen Richtlinien](best-practices-retry-service-specific.md)
* [Vorübergehender Fehler Handling Application Block](http://msdn.microsoft.com/library/hh680934.aspx)
* [Schutzschalter Muster](http://msdn.microsoft.com/library/dn589784.aspx)
* [Kompensierende Transaktion Muster](http://msdn.microsoft.com/library/dn589804.aspx)
* [Idempotenz Muster](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/)
