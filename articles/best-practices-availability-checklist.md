<properties
   pageTitle="Verfügbarkeitscheckliste | Microsoft Azure"
   description="Prüfliste, Hinweise zur Verfügbarkeit beim Entwurf bereitstellt."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Verfügbarkeit: Checkliste

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Anwendungsentwurf

- **Vermeiden Sie einzelne Fehlerquelle.** Alle Komponenten, Dienste, Ressourcen und Serverinstanzen sollten als mehrere Instanzen eine einzelne Fehlerquelle verhindern Verfügbarkeit bereitgestellt werden. Dazu gehören Authentifizierungsmechanismen. Entwerfen der Anwendung mehrere Instanzen verwenden, automatisch Fehler erkennen und einwandfreien Instanzen, in denen die Plattform nicht automatisch tut, Anfragen umleiten konfiguriert werden.
- **Arbeitslast pro verschiedene Service Level Agreements zu zerlegen.** Ein Dienst besteht kritische und weniger kritischen Arbeitslasten anders verwalten und geben Funktionen und Anzahl der Instanzen, deren Verfügbarkeit zu erfüllen.
- **Minimieren und dienstabhängig verstehen.** Minimieren Sie die Anzahl von verschiedenen Diensten verwendet und sicherzustellen Sie, dass alle abhängigen Features und Dienste kennen, die im System vorhanden. Dies umfasst die Art der Punkt und die Auswirkung des Fehlers oder reduzierte Leistung jeweils für die gesamte Anwendung. Microsoft garantiert mindestens 99,9 % für die meisten Dienste, aber dies bedeutet, dass jeder Weitere Dienst eine Anwendung möglicherweise stützt sich auf die allgemeine Verfügbarkeit des Systems SLA 0,1 Prozent reduziert.
- **Entwerfen von Aufgaben und Nachrichten Idempotent (sicher wiederholbare) möglichst**so, dass Anfragen dupliziert beeinträchtigt nicht. Beispielsweise kann ein Dienst als Consumer fungieren, die Nachrichten als Anfragen von anderen Teilen des Systems als Hersteller fungieren behandelt. Ausfall der Verbraucher nach dem Verarbeiten der Nachricht, aber vor dem bestätigen, dass es verarbeitet möglicherweise Erzeuger fordern wiederholen Sie behandelt werden kann von einer anderen Instanz des Verbrauchers. Aus diesem Grund sollten Verbraucher und die Operationen, die sie durchführen Idempotent sein, damit wiederholte zuvor ausgeführten Vorgangs nicht die Ergebnisse ungültig gerendert wird. Dies kann bedeuten, Erkennen von Nachrichten doppelt oder Kohärenz mit optimistische Ansatz für die Behandlung von Konflikten.
- **Verwenden Sie einen Kommunikationsserver, der hohen Verfügbarkeit für kritische Transaktionen implementiert.** Viele Szenarien für Vorgänge initiieren oder Zugriff auf Remotedienste verwenden messaging Anweisungen zwischen der Anwendung und den Zieldienst übergeben. Für eine optimale Leistung sollte die Anwendung senden und anschließend zurückkehren, um weitere Anfragen zu verarbeiten, ohne auf eine Antwort warten können. Um Nachrichten zu gewährleisten, sollten Messagingsystems hohen Verfügbarkeit bereitstellen. Azure Service Bus Nachrichtenwarteschlangen implementieren _mindestens_ Semantik. Dies bedeutet, dass jede Nachricht an eine Warteschlange gesendet nicht verloren gehen werden, zwar Kopien unter Umständen geliefert werden. Ist die Verarbeitung von Nachrichten Idempotent (Siehe das vorherige Element) wiederholt Übermittlung sollte kein Problem sein.
- **Designanwendungen diskret** beim Ressourcenverbrauch und entsprechende Maßnahmen minimieren die Wirkung für den Benutzer. In einigen Fällen die Auslastung der Anwendung darf die Kapazität eines oder mehrere Teile verursacht reduziert Verfügbarkeit konnte Verbindungen. Skalierung können dieses jedoch erreichen eine Beschränkung von anderen Faktoren, Ressourcen oder Kosten. Entwerfen Sie die Anwendung, in diesem Fall es automatisch diskret beheben kann. Beispielsweise in einem e-Commerce-System Teilsystems Auftragsabwicklung belastet wird (oder hat auch nicht vollständig), vorübergehend deaktiviert werden und andere Funktionen (z. B. den Produktkatalog durchsuchen) fort. Er kann verschoben werden Anfragen an einen fehlerhaften Subsystem beispielsweise weiterhin die Kunden Aufträge übermitteln, aber für die spätere Verarbeitung speichern, wenn Aufträge Subsystem wieder verfügbar ist.
- **Behandeln Sie schnelle Burst Ereignisse ordnungsgemäß.** Die meisten müssen behandeln unterschiedliche Arbeitslasten im Laufe der Zeit wie Spitzen morgen in einer Business-Anwendung oder ein neues Produkt in einer e-Commerce-Site veröffentlicht. Automatische Skalierung können die Last aber dauert einige Zeit für zusätzliche Instanzen zu Online-Anfragen behandelt. Verhindern plötzlich Aktivitätsschübe Anwendung: Warteschlange Anfragen verwendet Dienste entwerfen und ohne Probleme wenn Warteschlangen nahe ausgelastet sind. Sicherstellen Sie, dass es ausreichende Leistung und Kapazität unter Umständen kein Burst Warteschlangen und ausstehende Anfragen verfügbar. Weitere Informationen finden Sie in der [Queue-basierten Auslastungsmuster Kapazitätsabgleich](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Bereitstellung und Wartung

- **Bereitstellen Sie mehrerer Instanzen der Rolle für jeden Dienst.** Microsoft garantiert Verfügbarkeit für Dienste, die Sie erstellen und bereitstellen, aber diese Garantien sind nur gültig, wenn Sie mindestens zwei Instanzen für jede Rolle in den Dienst bereitstellen. Dies ermöglicht eine Rolle nicht verfügbar ist, während die andere aktiv bleibt. Dies ist besonders wichtig, wenn Sie Updates auf einem laufenden System ohne Unterbrechung des Kunden Aktivitäten bereitstellen müssen. Instanzen können außer Betrieb genommen und einzeln aktualisiert werden, während die anderen online weiter.
- **Host-Applikationen in mehrere Rechenzentren.** Obwohl unwahrscheinlich, kann ein gesamtes Rechenzentrum durch ein Ereignis wie einer Naturkatastrophe oder Internet offline gehen. Wichtige geschäftliche Anwendung sollte in mehrere Datencenter maximale Verfügbarkeit gehostet werden. Dies kann auch Latenz für lokale Benutzer und bietet zusätzliche Flexibilität beim Aktualisieren von Clientanwendungen.
- **Automatisierung und Bereitstellung und Wartung von Testaufgaben.** Verteilte Programme bestehen aus mehreren Teilen, die zusammenarbeiten müssen. Bereitstellung sollte mit getesteten und bewährten Mechanismen wie Skripts und Bereitstellung Applikationen daher automatisiert werden. Diese können aktualisieren Konfiguration überprüfen und die Bereitstellung automatisieren. Automatisierte Verfahren sollte auch aktualisieren alle oder Teile der Anwendung verwendet werden. Es ist wichtig, alle Prozesse vollständig, um sicherzustellen, dass Fehler nicht zusätzliche Ausfallzeiten verursachen. Alle Bereitstellungstools müssen geeignete Sicherheitsvorkehrungen zum Schutz der bereitgestellten Anwendung. Definieren Sie einer kennwortbasierten Sie Bereitstellung sorgfältig und minimieren Sie die Notwendigkeit menschlichen Eingriff.
- **Staging und Produktion Features der Plattform verwenden** , wenn diese verfügbar sind. Mithilfe von Azure Cloud Services Staging- und Umgebung kann beispielsweise Programme von einem zum anderen sofort durch eine virtuelle IP-Adresse Swap (VIP Swap) gewechselt werden. Allerdings möchten Sie lokal bereitstellen oder verschiedene Versionen der Anwendung gleichzeitig bereitstellen und Benutzer schrittweise Migration, nicht mit einem VIP-Swap möglicherweise.
- **Neukonfiguration ohne recycling übernehmen** die Instanz, wenn möglich. In vielen Fällen können Konfigurationsinformationen für eine Azure-Anwendung oder ein Dienst geändert werden, ohne die Rolle neu gestartet werden. Rolle-Ereignisse, die behandelt werden können, um Konfiguration erkennen und Komponenten innerhalb der Anwendung zuweisen. Ändern auf den zentralen Plattform benötigen jedoch eine Rolle neu gestartet werden. Beim Erstellen von Komponenten und Dienste Maximieren Sie Verfügbarkeit und minimieren Sie Ausfallzeiten durch entwerfen sie Änderungen, Konfiguration, ohne die gesamte Anwendung neu gestartet werden.
- **Verwenden Sie aktualisieren Domänen Ausfallzeiten während der Aktualisierung.** Azure compute wie Web und Workerrollen zugeordneten um Domänen zu aktualisieren. Upgrade Domänen gruppieren Rolleninstanzen, bei ein paralleles Update jede Rolle in der Domäne aktualisieren beendet, aktualisiert und dann neu gestartet. Dies minimiert die Auswirkung auf die Verfügbarkeit der Anwendung. Sie können angeben, wie viele Upgrade Domänen für einen Dienst erstellt werden soll, wenn der Dienst bereitgestellt wird.

    > [AZURE.NOTE] Rollen sind auch auf Fehlerdomänen verteilt die relativ unabhängig von anderen Fehlerdomänen Server-Racks, Stromversorgung und Kühlung bereitstellen, um das Risiko eines Ausfalls auf alle Instanzen zu minimieren sind. Die Verteilung erfolgt automatisch und nicht steuern.

- **Konfigurieren Sie Verfügbarkeit legt für Azure virtuellen Computer.** Platzieren zwei oder mehrere virtuelle Computer in der gleichen garantiert Verfügbarkeit festlegen, dass diese virtuellen Computer nicht in derselben Fehlerdomäne bereitgestellt werden. Zur Maximierung der Verfügbarkeit sollten Sie mehrere Instanzen jedes wichtige vom System verwendete virtuelle Computer erstellen und diese Instanzen in der gleichen Verfügbarkeit. Wenn Sie mehrere virtuelle Computer, der dazu dienen ausführen, erstellen Sie eine Verfügbarkeit für jeden virtuellen Computer festgelegt. Instanzen der einzelnen virtuellen Computer auf die einzelnen Verfügbarkeit hinzufügen. Beispielsweise wenn separaten virtueller Computer auf einem Webserver und einem Berichtsserver erstellt haben, erstellen Sie eine Verfügbarkeit des Webservers festgelegt und anderen Verfügbarkeit für den Berichtsserver festgelegt. Fügen Sie Instanzen der virtuellen Webservercomputers Web Server Verfügbarkeit festgelegt und Instanzen von reporting Server virtueller Computer auf die reporting Server Verfügbarkeit hinzufügen hinzu.

## <a name="data-management"></a>Datenmanagement

- **Nutzen Sie Replikation** über lokale und geografische Redundanz. Daten in Azure-Speicher zum Schutz vor Datenverlust bei Ausfall der Infrastruktur automatisch repliziert, und einige Aspekte der Replikation konfiguriert werden können. Schreibgeschützte Kopien der Daten können mehrere geografische Region (Global redundanten Speicher Lesezugriff oder RA-GRS bezeichnet) repliziert werden. Beachten Sie, dass mit RA-GRS zusätzliche Gebühren anfallen. Details finden Sie in [Azure Storage Preise](https://azure.microsoft.com/pricing/details/storage/).
- **Vollständige Parallelität verwenden und eventual Consistency** möglichst. Transaktionen, Blockieren des Zugriffs auf Ressourcen durch Sperren (eingeschränkte Parallelität) schlechte Leistung und Verfügbarkeit erheblich reduzieren kann. Diese Probleme können in verteilten Systemen besonders akut werden. In vielen Fällen minimiert sorgfältige Planung und Techniken wie Partitionierung Erfolgschancen Konflikt aktualisiert. Daten repliziert oder separat aktualisierten Store lesen, werden die Daten nur schließlich konsistent. Aber die Vorteile in der Regel überwiegen die Auswirkung auf die Verfügbarkeit mit Transaktionen enge Konsistenz.
- **Regelmäßige Backup und Restore Point-in-Time verwendet**und erfüllt die Recovery Point Objective (RPO). Regelmäßig und automatisch Daten, die nicht an anderer Stelle sichern Sie und überprüfen Sie, ob Sie zuverlässig Daten und die Anwendung selbst wiederherstellen können sollte ein Fehler auftreten. Datenreplikation ist eine backup-Funktion nicht, da Fehler und Inkonsistenzen durch Fehler, Fehler oder schädliche Vorgänge in allen Informationsspeichern repliziert werden. Der Sicherungsvorgang muss zum Schutz der Daten bei der Übertragung und sicher sein. Datenbanken oder Teile eines Datenspeichers können in der Regel zu einem früheren Zeitpunkt rechtzeitig wiederhergestellt werden mithilfe von Transaktionsprotokollen. Microsoft Azure bietet eine backup-Funktion für Azure SQL-Datenbank. Daten in Sicherungspaket Azure BLOB-Speicher exportiert und an einen sicheren lokalen Speicherort für heruntergeladen werden.
- **Aktivieren Sie die Option hohe Verfügbarkeit eine sekundäre Kopie einer Azure Redis Cache verwalten.** Wenn Azure Redis Cache verwenden, wählen Sie standard, eine sekundäre Kopie des Inhalts. Weitere Informationen finden Sie unter [Create Cache in Azure Redis Cache](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Fehler

- **Führen Sie das Konzept der Timeout.** Dienste und Ressourcen können, verursacht Anfragen nicht verfügbar. Sind die Timeoutwerte anwenden für jeden Dienst oder Ressource sowie Clients, die auf sie zugreifen. (In einigen Fällen kann es sein sollte ein längeres Zeitlimit für eine bestimmte Instanz eines Clients je nach Kontext und andere Aktionen, die der Client ausführt.) Sehr kurze Zeitlimits verursacht übermäßige Wiederholung Operationen für Dienstleistungen und Ressourcen, die beträchtliche Wartezeiten. Sehr lange Timeouts kann blockieren, wenn eine große Anzahl von Anfragen in der Warteschlange befinden, auf einen Dienst oder eine Ressource zu reagieren.
- **Wiederholen Sie fehlgeschlagene Vorgänge durch vorübergehende Fehler verursacht.** Entwerfen einer wiederholungsstrategie für den Zugriff auf alle Dienste und Ressourcen, in denen sie nicht grundsätzlich automatische Verbindungsversuch unterstützen. Eine Strategie, die eine zunehmende Verzögerung zwischen Wiederholungsversuchen als Anzahl der Ausfälle, Überlastung der Ressource zu vermeiden und diese ordnungsgemäß wiederherzustellen und Anforderungsanzahl. Ständige Versuche mit kurzer Verzögerung dürften das Problem verschlimmern.
- **Senden von Anfragen zu cascading Fehler beenden** RAS-Dienste verfügbar sind. Es gibt möglicherweise Situationen mit transienten oder andere Fehler im Schweregrad von einem teilweisen Verlust der Konnektivität Totalausfall eines Dienstes viel länger dauern als erwartet zu normalisieren. Darüber hinaus ist ein Dienst ausgelastet, kann in einem Teil des Systems zu cascading Fehlern führen und führt viele Operationen beim auf wichtige Ressourcen wie Arbeitsspeicher, Threads und Datenbankverbindungen blockiert. Statt ständig wiederholt Vorgang unwahrscheinlich, sollte die Anwendung schnell akzeptieren, dass der Vorgang fehlgeschlagen ist und dieser Fehler ordnungsgemäß behandelt. Schutzschalter Muster können Sie Anfragen für bestimmte Operationen für definierte Zeiträume ablehnen. Weitere Informationen finden Sie unter [Schutzschalter Muster](https://msdn.microsoft.com/library/dn589784.aspx).
- **Verfassen oder auf mehrere Komponenten** der Auswirkungen ein bestimmter Dienst offline oder nicht verfügbar. Entwerfen Sie Applikationen mehrerer Instanzen ohne die Operation und vorhandenen Verbindungen möglichst nutzen. Instanzen Sie mehrere verteilen Sie Anfragen, erkennen Sie und vermeiden Sie Anfragen fehlgeschlagenen Instanzen um Verfügbarkeit maximieren.
- **Auf einem anderen Dienst oder Workflow** nach Möglichkeit. Beispielsweise schlägt Schreiben auf SQL-Datenbank temporär speichern Sie Daten im BLOB-Speicher. Bieten Sie eine Schreibvorgänge im BLOB-Speicher mit SQL-Datenbank wiedergeben, wenn der Dienst verfügbar ist. In einigen Fällen kann ein fehlgeschlagener Vorgang eine alternative Aktion haben, die Anwendung weiterhin verwenden, auch wenn eine Komponente oder ein Dienst fehlschlägt. Wenn möglich, erkennen Sie Fehler und leiten Sie Anfragen mit anderen Diensten, die eine geeignete alternative Funktionalität bietet und sichern oder reduzierten Instanzen, die zentralen verwalten können, während der primäre Dienst offline ist.

## <a name="monitoring-and-disaster-recovery"></a>Überwachung und Disaster recovery

- **Bieten umfangreiche Instrumentation für mögliche Ausfälle und Fehlerereignisse** die Situation Betriebspersonal gemeldet. Für Fehler, die wahrscheinlich aber noch nicht aufgetreten ist, ausreichende Daten ermöglichen IT-Mitarbeiter die Ursache, die Lage minimiert und das System verfügbar bleibt. Für Fehler, die bereits stattgefunden haben, sollte die Anwendung eine entsprechende Fehlermeldung an den Benutzer zurückgegeben jedoch versuchen weiterhin ausgeführt, allerdings mit eingeschränkter Funktionalität. In allen Fällen sollte das Überwachungssystem umfassende Details Betriebspersonal zu einer schnellen Wiederherstellung aktivieren erfassen und ggf. für Designer und Entwickler, so ändern Sie das System aus erneut verhindern.
- **Überwachen des Systemzustands Prüffunktionen implementieren.** Den Zustand und die Leistung einer Anwendung können stetig, ohne spürbare bis sie fehlschlägt. Implementieren Sie Prüfpunkte oder Funktionen Sie, die von außerhalb der Anwendung regelmäßig ausgeführt werden. Diese Kontrollen werden einfach Antwortzeit für die gesamte Anwendung, einzelne Teile der Anwendung, einzelne Dienste der Anwendung oder einzelne Komponenten messen. Funktionen können Prozesse gültige Ergebnisse, messen Wartezeit und Verfügbarkeit, und extrahieren Sie Informationen aus dem System ausführen.
- **Testen Sie regelmäßig alle Failover und fallback-Systeme** verfügbar sind und wie gewünscht funktionieren. Systeme und Vorgänge möglicherweise Änderungen Failover und fallback Funktionen, aber der Einfluss möglicherweise nicht erkannt, bis das System ausfällt oder überlastet. Testen sie vor dem Ausgleich live Problem zur Laufzeit erforderlich ist.
- **Die Überwachungssysteme zu testen.** Automatisches Failover und fallback-Systeme und manuelle Visualisierung von Systemstatus und Performance mithilfe von Dashboards hängen alle Überwachung und Instrumentation ordnungsgemäß funktioniert. Wenn diese Elemente nicht verpassen Sie wichtige Informationen oder ungenaue Daten, kann ein Operator nicht erkennen, dass das System fehlerhaft oder.
- **Der Fortschritt der lang andauernde Workflows** und Wiederholung bei Fehlschlag. Lang andauernde Workflows bestehen oft aus mehreren Schritten. Stellen Sie sicher, dass jeder Schritt unabhängig und kann wiederholt werden, um das Risiko zu minimieren, das der gesamte Workflow zurückgesetzt werden muss oder mehrere kompensierende Transaktionen ausgeführt werden müssen. Überwachen Sie und verwalten Sie den Fortschritt der lang andauernde Workflows durch ein Muster wie [Planer Agent Supervisor Muster](https://msdn.microsoft.com/library/dn589780.aspx)implementieren.
- **Plan für die Wiederherstellung.** Sicherstellen Sie, dass die dokumentierter akzeptierter und getesteter Plan für die Wiederherstellung von jeder Art von Ausfall, die Teil machen oder alle das System nicht verfügbar ist. Testen Sie die Verfahren regelmäßig und sicherstellen Sie, dass alle Mitarbeiter mit dem Prozess vertraut sind.
