<properties 
    pageTitle="Relay Ausnahmen | Microsoft Azure"
    description="Liste der Relay-Ausnahmen und vorgeschlagene Aktionen."
    services="service-bus"
    documentationCenter="na"
    authors="jtaubensee"
    manager="timlt"
    editor="tysonn" />
<tags 
    ms.service="service-bus"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/28/2016"
    ms.author="jotaub" />

# <a name="relay-exceptions"></a>Relay-Ausnahmen

Dieser Artikel listet einige Ausnahmen generiert Microsoft Azure Relay-APIs. Diese Referenz ändern, damit nach Updates suchen.

## <a name="exception-categories"></a>Kategorien für Ausnahmen

Relay-APIs generieren Ausnahmen in die folgenden Kategorien zusammen mit der zugeordneten Aktion können Sie versuchen fallen, diese zu beheben.

1.  Benutzer Codefehler ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx) [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Aktion: versuchen Sie, den Code vor dem Fortfahren beheben.

2.  Setup-Konfiguration Fehler ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Aktion: Überprüfen Sie Ihre Konfiguration, und ändern Sie bei Bedarf.

3.  Vorübergehende Ausnahmen ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Aktion: versuchen oder Benutzer zu benachrichtigen.

4.  Andere Ausnahmen ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx) [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Aktion: bestimmte Ausnahme; Siehe die Tabelle im folgenden Abschnitt. 

## <a name="exception-types"></a>Ausnahmetypen

Tabelle messaging Ausnahmetypen Ursachen und ihre Notizen vorgeschlagene Maßnahmen ergreifen.

| **Ausnahmetyp**                                                                                                                                                                                                                                                                                | **Ursache/Beschreibung/Beispiele**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Empfohlene Aktion**                                                                                                                                                                                                                                                                                                                                                                                                          | **Beachten Sie bei der automatischen/sofortige Wiederholung**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | Der Server reagiert nicht, den angeforderten Vorgang innerhalb der angegebenen Zeit die [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx)gesteuert wird. Der Server kann den angeforderten Vorgang abgeschlossen haben. Dies geschieht durch Netzwerk- oder andere Infrastruktur verzögert.                                                                                                                                                                                                                                                                   | Überprüfen des Systemstatus für Konsistenz und ggf. wiederholen. [Timeout Ausnahmen](#timeoutexception)anzeigen                                                                                                                                                                                                                                                                                                                                                           | In einigen Fällen möglicherweise wiederholen Hilfe; Wiederholungslogik Code hinzufügen.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | Der angeforderte Benutzervorgang darf nicht innerhalb der Server oder Dienst. Meldung der Ausnahme Weitere Informationen. Beispielsweise generiert [abgeschlossen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) diese Ausnahme, wenn die Nachricht im Modus **ReceiveAndDelete** empfangen wurde.                                                                                                                                                                                                                                                                                                     | Überprüfen Sie den Code und die Dokumentation. Stellen Sie sicher, dass der Vorgang gültig ist.                                                                                                                                                                                                                                                                                                                                         | Wiederholung ist nicht hilfreich.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Wird versucht, einen Vorgang für ein Objekt aufrufen, das bereits geschlossen, abgebrochen oder freigegeben wurde. In seltenen Fällen ist die Ambiente-Transaktion bereits freigegeben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Überprüfen Sie den Code, und stellen Sie sicher, dass es nicht auf einem freigegebenen Objekts aufruft.                                                                                                                                                                                                                                                                                                                                          | Wiederholung ist nicht hilfreich.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) -Objekt konnte keinen Token abgerufen oder das Token enthält nicht die Ansprüche für den Vorgang Token ist ungültig.                                                                                                                                                                                                                                                                                                                                                                                                  | Stellen Sie sicher, dass der Tokenanbieter mit den richtigen Werten erstellt wird. Überprüfen Sie die Konfiguration des Zugriffssteuerungsdiensts.                                                                                                                                                                                                                                                                                                   | In einigen Fällen möglicherweise wiederholen Hilfe; Wiederholungslogik Code hinzufügen.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Argumente der Methode sind ungültig.<br /> [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) oder [Erstellen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) angegebene URI enthält Pfad Segmente.<br /> Das URI-Schema angegeben [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) zu [Erstellen](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) ist ungültig. <br />Der Eigenschaftswert ist größer als 32KB. | Überprüfen Sie den aufrufenden Code und sicherstellen Sie, dass die Argumente korrekt sind.                                                                                                                                                                                                                                                                                                                                                           | Wiederholung ist nicht hilfreich.                                                                                                          |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Dienst kann nicht auf die Anforderung zu verarbeiten.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Clients kann einen Zeitraum warten und wiederholen Sie den Vorgang.                                                                                                                                                                                                                                                                                                                                                           | Client kann nach einem bestimmten Intervall wiederholen. Ergibt eine Wiederholung in eine andere Ausnahme überprüfen Sie Wiederholungsverhalten dieser Ausnahme. |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | Die Messaging-Entität hat die maximale zulässige Größe erreicht.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Speicherplatz in der Entität von Nachrichten von der Entität oder die Unterwarteschlangen empfangen. [QuotaExceededException](#quotaexceededexception)anzeigen                                                                                                                                                                                                                                                                                                                                      | Wiederholungsversuch kann hilfreich sein, wenn Nachrichten in der Zwischenzeit entfernt wurden.                                                               |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Nachrichtennutzlast überschreitet 256 KB. Beachten Sie, dass der 256 KB die gesamte Nachrichtengröße die Systemeigenschaften und .NET Verwaltungsaufwand.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Verringern Sie die Größe der Nachrichtennutzlast, und wiederholen Sie den Vorgang.                                                                                                                                                                                                                                                                                                                                                         | Wiederholung ist nicht hilfreich.                                                                                                          |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) gibt an, dass ein Kontingent für eine bestimmte Entität überschritten wurde.

Diese Ausnahme umschließt Weiterleitung die [System.ServiceModel.QuotaExceededException](https://msdn.microsoft.com/library/system.servicemodel.quotaexceededexception.aspx), dass die maximale Anzahl der Listener für diesen Endpunkt überschritten wurde. Dies wird in der **MaximumListenersPerEndpoint** -Wert der Ausnahmenachricht angezeigt.

## <a name="timeoutexception"></a>TimeoutException 

[TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) gibt an, dass ein manueller Vorgang länger als das Zeitlimit für den Vorgang dauert. 

Prüfen Sie den Wert der Eigenschaft [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) als schlagen diese Grenze kann auch einer [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx).

Weiterleitung erhalten Sie Timeout Ausnahmen beim ersten Relay Absender Verbindungsaufbau. Es gibt zwei häufige Ursachen für diese Ausnahme:

1. Der Wert [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) ist möglicherweise zu klein (auch nur einen Bruchteil einer Sekunde).
2. Lokalen Relay Hörer nicht reagiert (oder verbietet die Listener akzeptieren neuer Clientverbindungen Firewall Regeln Probleme auftreten) und der [OpenTimeout](https://msdn.microsoft.com/library/wcf.opentimeout.aspx) -Wert ist kleiner als 20 Sekunden.

Zum Beispiel:

```
'System.TimeoutException’: The operation did not complete within the allotted timeout of 00:00:10. The time allotted to this operation may have been a portion of a longer timeout.
```

### <a name="common-causes"></a>Häufige Ursachen

Es gibt zwei häufige Ursachen für diesen Fehler: fehlerhafte Konfiguration oder vorübergehenden Dienstfehler.

1. **Falsche Konfiguration** 
    Zeitlimit für den Vorgang ist möglicherweise zu klein für den Betriebszustand. Der Standardwert für das Zeitlimit für den Vorgang in der Client-SDK ist 60 Sekunden. Überprüfen Sie, wenn der Code den Wert etwas zu klein festgelegt. Beachten Sie, dass die Bedingung der Netzwerk- und CPU-Auslastung die Zeit auswirken kann dauert es für einen bestimmten Vorgang abgeschlossen ist, damit das Timeout des Vorgangs auf einen sehr kleinen Wert festgelegt werden soll.

2. **Vorübergehende Fehler** 
    manchmal Relay erleben bei Verarbeitung; z. B. Zeiten mit hohem Datenverkehr. In solchen Fällen können Sie den Vorgang nach einer kurzen Verzögerung wiederholen, bis der Vorgang erfolgreich ist. Wenn derselbe Vorgang noch nach mehreren versuchen fehlschlägt, finden Sie auf der [Azure Service Status Website](https://azure.microsoft.com/status/) treten bekannte Dienstausfälle.

## <a name="next-steps"></a>Nächste Schritte:

- [Relay – häufig gestellte Fragen](relay-faq.md)
- [Erstellen eines Namespaces](relay-create-namespace-portal.md)
- [Erste Schritte mit .NET](relay-hybrid-connections-dotnet-get-started.md)
- [Erste Schritte mit Knoten](relay-hybrid-connections-node-get-started.md)